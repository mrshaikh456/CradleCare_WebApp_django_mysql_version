{% extends "base.html" %}
{% block title %}Personal Journal - CradleCare{% endblock %}

{% block page_title %}Personal Journal{% endblock %}

{% block content %}
<!-- Display messages -->
{% if messages %}
    <div class="messages">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}

<div class="dashboard-grid">
    <!-- Form Card -->
    <div class="card form-card">
        <div class="card__header">
            <h3 class="card__title">New Entry</h3>
        </div>
        <div class="card__content">
            <form method="post" class="form-layout">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn btn--primary btn--block">Save Entry</button>
            </form>
        </div>
    </div>

    <!-- History Card -->
    <div class="card data-card">
        <div class="card__header">
            <h3 class="card__title">Past Entries</h3>
        </div>
        <div class="card__content">
            {% if entries %}
                <div class="journal-list">
                    {% for entry in entries %}
                    <div class="journal-item">
                        <div class="journal-date">{{ entry.entry_date|date:"F j, Y - P" }}</div>
                        <div class="journal-content">
                            {{ entry.content|linebreaksbr }}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-secondary">You haven't written any journal entries yet.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
